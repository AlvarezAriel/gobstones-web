<link rel="import" href="../../bower_components/polymer/polymer.html">

<dom-module id="main-app">
  <template>

    <event-bus></event-bus>

    <paper-drawer-panel left-drawer id="paperDrawerPanel" drawer-width="200px" force-narrow disable-edge-swipe>
      <!-- LEFT MENU -->
      <paper-header-panel drawer>
        <template is="dom-if" if="{{isBlocks(projectType)}}">
          <left-menu-blocks></left-menu-blocks>
        </template>
        <template is="dom-if" if="{{isCode(projectType)}}">
          <left-menu-code></left-menu-code>
        </template>
      </paper-header-panel>

      <!-- Main Area -->
      <paper-header-panel main id="headerPanelMain" fixed>
        <!-- MAIN CONTENT -->
        <div class="content">
          <gobstones-ide id="gobstones-ide" project-type="[[projectType]]"></gobstones-ide>
        </div>
      </paper-header-panel>
    </paper-drawer-panel>

    <paper-toast id="toast">
      <span class="toast-hide-button" role="button" tabindex="0" onclick="app.$.toast.hide()">Ok</span>
    </paper-toast>

  </template>

  <script>

    Polymer({
      is: 'main-app',
      properties: {
        projectType: { value: "code" }
      },

      isBlocks: function(projectType) {
        return projectType === "blocks";
      },

      isCode: function(projectType) {
        return projectType === "code";
      }
    });

  </script>
</dom-module>

<main-app></main-app>
