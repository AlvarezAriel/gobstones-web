<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../scripts/simplemde.html">
<link rel="import" href="../../scripts/stylist.html">

<dom-module id="description-editor">
  <template>
    <textarea id="markdown-editor"></textarea>
  </template>

  <script>
    Polymer({
      is: 'description-editor',

      ready: function() {
        this.async(() => {
          this.simplemde = new SimpleMDE({
            element: this.$$("#markdown-editor"),
            autofocus: true,
            spellChecker: false,
            hideIcons: ["side-by-side", "fullscreen", "guide"]
          });
        });

        this.stylist = new Stylist();
        this.stylist.setUpMarkdownEditorCustomizations();
      },

      getDescription: function() {
        return this.simplemde.value();
      },

      setDescription: function(content) {
        this.simplemde.value(content);
      },

      reset: function() {
        this.simplemde.value("");
      }
    });
  </script>
</dom-module>


