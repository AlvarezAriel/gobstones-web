<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../scripts/parser.html">
<link rel="import" href="../../scripts/behaviors/busListenerBehavior.html">
<link rel="import" href="../../scripts/jquery.html">
<link rel="import" href="../../scripts/stylist.html">

<dom-module id="gobstones-teacher">
  <template>

    <style>
      paper-tab {
        --paper-tab-content-unselected: {
          opacity: 0.5;
        }
      }
    </style>

    <paper-tabs id="editorTab" selected="{{selectedTab}}" class="bottom self-end">
      <paper-tab>[[localize("code")]]</paper-tab>
      <paper-tab>[[localize("blocks")]]</paper-tab>
      <paper-tab>[[localize("students-library")]]</paper-tab>
      <paper-tab>[[localize("teachers-library")]]</paper-tab>
      <paper-tab>[[localize("description")]]</paper-tab>
      <paper-tab>[[localize("settings")]]</paper-tab>
    </paper-tabs>

    <template is="dom-if" if="{{_isCodeSelected(selectedTab)}}">
      <gobstones-editor id="code-editor" />
    </template>

    <template is="dom-if" if="{{_isBlocksSelected(selectedTab)}}">
      <gobstones-blockly id="blocks-editor" />
    </template>

    <template is="dom-if" if="{{_isLibrarySelected(selectedTab)}}">
      <gobstones-editor id="library-editor" />
    </template>

    <template is="dom-if" if="{{_isTeacherLibrarySelected(selectedTab)}}">
      <gobstones-editor id="teacher-library-editor" />
    </template>

    <template is="dom-if" if="{{_isDescriptionSelected(selectedTab)}}">
      Description
    </template>

    <template is="dom-if" if="{{_isMetadataSelected(selectedTab)}}">
      Metadata
    </template>

  </template>

  <script>

    Polymer({
      is: "gobstones-teacher",
      behaviors: [
        Polymer.BusListenerBehavior,
        Polymer.LocalizationBehavior
      ],
      properties: {
        selectedTab: {
          type: Number,
          value: 0
        }
      },
      listeners: {
      },

      ready: function() {
      },

      setCode: function(code, mode = "main") {
      },

      reset: function() {
      },

      _isCodeSelected: (selectedTab) => selectedTab === 0,
      _isBlocksSelected: (selectedTab) => selectedTab === 1,
      _isLibrarySelected: (selectedTab) => selectedTab === 2,
      _isTeacherLibrarySelected: (selectedTab) => selectedTab === 3,
      _isDescriptionSelected: (selectedTab) => selectedTab === 4,
      _isMetadataSelected: (selectedTab) => selectedTab === 5
    });

  </script>
</dom-module>
